<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng T·∫°o Ma Tr·∫≠n ƒê·ªÅ Ki·ªÉm Tra</title>
<<<<<<< Updated upstream
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .form-container {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -10px;
        }

        .col {
            flex: 1;
            padding: 0 10px;
            min-width: 200px;
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s;
            text-align: center;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #219653;
        }

        .topic-container {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .topic-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .topic-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .unit-container {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
        }

        .unit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .unit-title {
            font-weight: bold;
        }

        .remove-unit {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .input-group input {
            padding: 8px;
            font-size: 14px;
        }

        .question-type-group {
            background-color: #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .question-type-group h5 {
            color: var(--dark-color);
            margin-bottom: 10px;
            font-size: 1rem;
            border-bottom: 1px solid #ced4da;
            padding-bottom: 5px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 12px 24px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: var(--dark-color);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-button.active {
            color: var(--secondary-color);
            border-bottom-color: var(--secondary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .prompt-container {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .prompt-output {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.5;
            margin-top: 15px;
        }

        .copy-btn {
            margin-top: 15px;
            background-color: var(--warning-color);
        }

        .copy-btn:hover {
            background-color: #e67e22;
        }

        .hidden {
            display: none;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .row {
                flex-direction: column;
            }

            .col {
                margin-bottom: 15px;
            }

            .input-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
=======
    <link rel="stylesheet" href="neobrutalism.css">
>>>>>>> Stashed changes
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">üìä</div>
                    <div>
                        <h1>·ª®ng d·ª•ng T·∫°o Ma Tr·∫≠n ƒê·ªÅ Ki·ªÉm Tra</h1>
                        <div class="subtitle">Theo C√¥ng vƒÉn 7991/BGDƒêT-GDTrH - B·ªô Gi√°o d·ª•c v√† ƒê√†o t·∫°o</div>
                    </div>
                </div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="basic">Th√¥ng tin c∆° b·∫£n</button>
            <button class="tab-button" data-tab="topics">Ch·ªß ƒë·ªÅ & ƒê∆°n v·ªã</button>
            <button class="tab-button" data-tab="prompt">Xem Prompt</button>
            <button class="tab-button" data-tab="guide">H∆∞·ªõng d·∫´n</button>
        </div>

        <div id="basicTab" class="tab-content active">
            <div class="form-container">
                <h2>Th√¥ng tin c∆° b·∫£n</h2>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="subject">M√¥n h·ªçc</label>
                            <input type="text" id="subject" placeholder="V√≠ d·ª•: Ng·ªØ vƒÉn, To√°n h·ªçc,..." required>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="grade">L·ªõp</label>
                            <input type="text" id="grade" placeholder="V√≠ d·ª•: 6, 7, 8,..." required>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="duration">Th·ªùi gian l√†m b√†i (ph√∫t)</label>
                            <input type="number" id="duration" min="1" value="60" required>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="topicsTab" class="tab-content">
            <div class="form-container">
                <h2>C√°c ch·ªß ƒë·ªÅ v√† ƒë∆°n v·ªã ki·∫øn th·ª©c</h2>
                <div id="topicsContainer">
                    <!-- Ch·ªß ƒë·ªÅ s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                </div>
                <button type="button" id="addTopic" class="btn">+ Th√™m ch·ªß ƒë·ªÅ</button>

                <div class="form-group" style="margin-top: 30px;">
                    <button type="button" id="generatePrompt" class="btn btn-success">T·∫°o Prompt cho AI</button>
                </div>
            </div>
        </div>

        <div id="promptTab" class="tab-content">
            <div class="prompt-container">
                <h2>Prompt ƒë√£ t·∫°o</h2>
                <p>Sao ch√©p prompt d∆∞·ªõi ƒë√¢y v√† g·ª≠i cho AI ƒë·ªÉ t·∫°o ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra:</p>
                <div class="prompt-output" id="promptOutput"></div>
<<<<<<< Updated upstream
                <button type="button" id="copyPrompt" class="btn copy-btn">Sao ch√©p Prompt</button>
=======
                <button type="button" id="copyPrompt" class="btn copy-btn btn-warning">Sao ch√©p Prompt</button>
>>>>>>> Stashed changes
            </div>
        </div>

        <div id="guideTab" class="tab-content">
            <div class="prompt-container">
                <h2>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h2>
                <div class="guide-content">
                    <h3>C√°ch t·∫°o ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra:</h3>
                    <ol>
                        <li>ƒêi·ªÅn th√¥ng tin c∆° b·∫£n trong tab "Th√¥ng tin c∆° b·∫£n"</li>
                        <li>Th√™m c√°c ch·ªß ƒë·ªÅ v√† ƒë∆°n v·ªã ki·∫øn th·ª©c trong tab "Ch·ªß ƒë·ªÅ & ƒê∆°n v·ªã"</li>
                        <li>Nh·∫•n "T·∫°o Prompt cho AI" ƒë·ªÉ t·∫°o prompt</li>
                        <li>Sao ch√©p prompt v√† g·ª≠i cho AI (ChatGPT, Gemini, Claude, v.v.)</li>
                        <li><strong>Quan tr·ªçng:</strong> Khi g·ª≠i prompt cho AI, b·∫°n PH·∫¢I ƒë√≠nh k√®m file C√¥ng vƒÉn 7991/BGDƒêT-GDTrH c·ªßa B·ªô Gi√°o d·ª•c v√† ƒê√†o t·∫°o</li>
                    </ol>

                    <h3>C√¢u l·ªánh m·∫´u cho AI:</h3>
                    <div class="command-example">
                        <p>"H√£y t·∫°o ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra theo ƒë√∫ng y√™u c·∫ßu trong prompt d∆∞·ªõi ƒë√¢y. T√¥i ƒë√£ ƒë√≠nh k√®m file C√¥ng vƒÉn 7991/BGDƒêT-GDTrH ƒë·ªÉ b·∫°n tham kh·∫£o."</p>
                        <p>[D√°n prompt v√†o ƒë√¢y]</p>
                    </div>

                    <h3>L∆∞u √Ω:</h3>
                    <ul>
                        <li>ƒê·∫£m b·∫£o ƒë√≠nh k√®m ƒë√∫ng file C√¥ng vƒÉn 7991/BGDƒêT-GDTrH</li>
                        <li>AI s·∫Ω t·∫°o ma tr·∫≠n d∆∞·ªõi d·∫°ng b·∫£ng Excel gi·ªëng m·∫´u</li>
                        <li>Ki·ªÉm tra l·∫°i ma tr·∫≠n sau khi AI t·∫°o ƒë·ªÉ ƒë·∫£m b·∫£o ch√≠nh x√°c</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer>
            <p>·ª®ng d·ª•ng T·∫°o Ma Tr·∫≠n ƒê·ªÅ Ki·ªÉm Tra - Theo C√¥ng vƒÉn 7991/BGDƒêT-GDTrH</p>
<<<<<<< Updated upstream
            <p>¬© 2024 - T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u</p>
=======
            <p>¬© 2025 - S·∫£n ph·∫©m thu·ªôc th·∫ßy Qu√¢n</p>
>>>>>>> Stashed changes
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const topicsContainer = document.getElementById('topicsContainer');
            const addTopicButton = document.getElementById('addTopic');
            const generatePromptButton = document.getElementById('generatePrompt');
            const promptOutput = document.getElementById('promptOutput');
            const copyPromptButton = document.getElementById('copyPrompt');

            // Tab switching
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            function switchTab(tabName) {
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                document.querySelector(`.tab-button[data-tab="${tabName}"]`).classList.add('active');
                document.getElementById(tabName + 'Tab').classList.add('active');
            }

            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });

            let topicCount = 0;

            // Th√™m ch·ªß ƒë·ªÅ m·ªõi
            function addTopic() {
                topicCount++;
                const topicId = 'topic_' + topicCount;
                const topicDiv = document.createElement('div');
                topicDiv.className = 'topic-container';
                topicDiv.id = topicId;
                topicDiv.innerHTML = `
                    <div class="topic-header">
                        <div class="topic-title">Ch·ªß ƒë·ªÅ ${topicCount}</div>
<<<<<<< Updated upstream
                        <button type="button" class="btn remove-topic" data-topic="${topicId}">X√≥a ch·ªß ƒë·ªÅ</button>
=======
                        <button type="button" class="btn btn-danger remove-topic" data-topic="${topicId}">X√≥a ch·ªß ƒë·ªÅ</button>
>>>>>>> Stashed changes
                    </div>
                    <div class="form-group">
                        <label>T√™n ch·ªß ƒë·ªÅ</label>
                        <input type="text" class="topic-name" placeholder="Nh·∫≠p t√™n ch·ªß ƒë·ªÅ" required>
                    </div>
                    <div class="form-group">
                        <label>T·ªïng ƒëi·ªÉm c·ªßa ch·ªß ƒë·ªÅ</label>
                        <input type="number" class="topic-score" min="0" step="0.5" placeholder="0.0" required>
                    </div>
                    <div class="units-container">
                        <!-- ƒê∆°n v·ªã ki·∫øn th·ª©c s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                    </div>
                    <button type="button" class="btn add-unit" data-topic="${topicId}">+ Th√™m ƒë∆°n v·ªã ki·∫øn th·ª©c</button>
                `;
                topicsContainer.appendChild(topicDiv);

                // Th√™m ƒë∆°n v·ªã m·∫∑c ƒë·ªãnh
                addUnit(topicId);

                // G·∫Øn s·ª± ki·ªán
                topicDiv.querySelector('.remove-topic').addEventListener('click', function() {
                    topicsContainer.removeChild(topicDiv);
                    topicCount--;
                    updateTopicTitles();
                });

                topicDiv.querySelector('.add-unit').addEventListener('click', function() {
                    addUnit(topicId);
                });
            }

            // Th√™m ƒë∆°n v·ªã ki·∫øn th·ª©c
            function addUnit(topicId) {
                const topicDiv = document.getElementById(topicId);
                const unitsContainer = topicDiv.querySelector('.units-container');
                const unitCount = unitsContainer.children.length + 1;
                const unitId = topicId + '_unit_' + unitCount;

                const unitDiv = document.createElement('div');
                unitDiv.className = 'unit-container';
                unitDiv.id = unitId;
                unitDiv.innerHTML = `
                    <div class="unit-header">
                        <div class="unit-title">ƒê∆°n v·ªã ki·∫øn th·ª©c ${unitCount}</div>
<<<<<<< Updated upstream
                        <button type="button" class="remove-unit" data-unit="${unitId}">√ó</button>
=======
                        <button type="button" class="btn btn-danger remove-unit" data-unit="${unitId}">√ó</button>
>>>>>>> Stashed changes
                    </div>
                    <div class="form-group">
                        <label>T√™n ƒë∆°n v·ªã ki·∫øn th·ª©c</label>
                        <input type="text" class="unit-name" placeholder="Nh·∫≠p t√™n ƒë∆°n v·ªã ki·∫øn th·ª©c" required>
                    </div>
                    <h4>M·ª©c ƒë·ªô ƒë√°nh gi√°</h4>
                    <div class="question-type-group">
                        <h5>Tr·∫Øc nghi·ªám kh√°ch quan (TN) - Nhi·ªÅu l·ª±a ch·ªçn</h5>
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Bi·∫øt (c√¢u)</label>
                                <input type="number" class="tn-multiple-know-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Bi·∫øt (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-multiple-know-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (c√¢u)</label>
                                <input type="number" class="tn-multiple-understand-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-multiple-understand-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (c√¢u)</label>
                                <input type="number" class="tn-multiple-apply-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-multiple-apply-score" min="0" step="0.5" value="0">
                            </div>
                        </div>
                    </div>

                    <div class="question-type-group">
                        <h5>Tr·∫Øc nghi·ªám kh√°ch quan (TN) - ƒê√∫ng - Sai</h5>
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Bi·∫øt (c√¢u)</label>
                                <input type="number" class="tn-truefalse-know-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Bi·∫øt (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-truefalse-know-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (c√¢u)</label>
                                <input type="number" class="tn-truefalse-understand-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-truefalse-understand-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (c√¢u)</label>
                                <input type="number" class="tn-truefalse-apply-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-truefalse-apply-score" min="0" step="0.5" value="0">
                            </div>
                        </div>
                    </div>

                    <div class="question-type-group">
                        <h5>Tr·∫Øc nghi·ªám kh√°ch quan (TN) - Tr·∫£ l·ªùi ng·∫Øn</h5>
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Bi·∫øt (c√¢u)</label>
                                <input type="number" class="tn-short-know-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Bi·∫øt (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-short-know-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (c√¢u)</label>
                                <input type="number" class="tn-short-understand-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-short-understand-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (c√¢u)</label>
                                <input type="number" class="tn-short-apply-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (ƒëi·ªÉm)</label>
                                <input type="number" class="tn-short-apply-score" min="0" step="0.5" value="0">
                            </div>
                        </div>
                    </div>

                    <div class="question-type-group">
                        <h5>T·ª± lu·∫≠n (TL)</h5>
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Bi·∫øt (c√¢u)</label>
                                <input type="number" class="tl-know-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Bi·∫øt (ƒëi·ªÉm)</label>
                                <input type="number" class="tl-know-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (c√¢u)</label>
                                <input type="number" class="tl-understand-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>Hi·ªÉu (ƒëi·ªÉm)</label>
                                <input type="number" class="tl-understand-score" min="0" step="0.5" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (c√¢u)</label>
                                <input type="number" class="tl-apply-count" min="0" value="0">
                            </div>
                            <div class="input-group">
                                <label>V·∫≠n d·ª•ng (ƒëi·ªÉm)</label>
                                <input type="number" class="tl-apply-score" min="0" step="0.5" value="0">
                            </div>
                        </div>
                    </div>
                `;
                unitsContainer.appendChild(unitDiv);

                // G·∫Øn s·ª± ki·ªán x√≥a ƒë∆°n v·ªã
                unitDiv.querySelector('.remove-unit').addEventListener('click', function() {
                    unitsContainer.removeChild(unitDiv);
                    updateUnitTitles(topicId);
                });
            }

            // C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ ch·ªß ƒë·ªÅ
            function updateTopicTitles() {
                const topics = topicsContainer.querySelectorAll('.topic-container');
                topics.forEach((topic, index) => {
                    topic.querySelector('.topic-title').textContent = `Ch·ªß ƒë·ªÅ ${index + 1}`;
                });
            }

            // C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ ƒë∆°n v·ªã
            function updateUnitTitles(topicId) {
                const topicDiv = document.getElementById(topicId);
                const units = topicDiv.querySelectorAll('.unit-container');
                units.forEach((unit, index) => {
                    unit.querySelector('.unit-title').textContent = `ƒê∆°n v·ªã ki·∫øn th·ª©c ${index + 1}`;
                });
            }

            // T·∫°o prompt
            function generatePrompt() {
                const subject = document.getElementById('subject').value;
                const grade = document.getElementById('grade').value;
                const duration = document.getElementById('duration').value;

                if (!subject || !grade) {
                    alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin m√¥n h·ªçc v√† l·ªõp!');
                    return;
                }

                // Thu th·∫≠p d·ªØ li·ªáu t·ª´ c√°c ch·ªß ƒë·ªÅ
                const topics = [];
                const topicElements = topicsContainer.querySelectorAll('.topic-container');
                topicElements.forEach((topicEl, topicIndex) => {
                    const topicName = topicEl.querySelector('.topic-name').value;
                    const topicScore = parseFloat(topicEl.querySelector('.topic-score').value) || 0;

                    const units = [];
                    const unitElements = topicEl.querySelectorAll('.unit-container');
                    unitElements.forEach((unitEl, unitIndex) => {
                        const unitName = unitEl.querySelector('.unit-name').value;

                        // Thu th·∫≠p d·ªØ li·ªáu TN
                        const tnData = {
                            multiple: {
                                know: { count: parseInt(unitEl.querySelector('.tn-multiple-know-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-multiple-know-score').value) || 0 },
                                understand: { count: parseInt(unitEl.querySelector('.tn-multiple-understand-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-multiple-understand-score').value) || 0 },
                                apply: { count: parseInt(unitEl.querySelector('.tn-multiple-apply-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-multiple-apply-score').value) || 0 }
                            },
                            truefalse: {
                                know: { count: parseInt(unitEl.querySelector('.tn-truefalse-know-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-truefalse-know-score').value) || 0 },
                                understand: { count: parseInt(unitEl.querySelector('.tn-truefalse-understand-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-truefalse-understand-score').value) || 0 },
                                apply: { count: parseInt(unitEl.querySelector('.tn-truefalse-apply-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-truefalse-apply-score').value) || 0 }
                            },
                            short: {
                                know: { count: parseInt(unitEl.querySelector('.tn-short-know-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-short-know-score').value) || 0 },
                                understand: { count: parseInt(unitEl.querySelector('.tn-short-understand-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-short-understand-score').value) || 0 },
                                apply: { count: parseInt(unitEl.querySelector('.tn-short-apply-count').value) || 0, score: parseFloat(unitEl.querySelector('.tn-short-apply-score').value) || 0 }
                            }
                        };

                        // Thu th·∫≠p d·ªØ li·ªáu TL
                        const tlData = {
                            know: { count: parseInt(unitEl.querySelector('.tl-know-count').value) || 0, score: parseFloat(unitEl.querySelector('.tl-know-score').value) || 0 },
                            understand: { count: parseInt(unitEl.querySelector('.tl-understand-count').value) || 0, score: parseFloat(unitEl.querySelector('.tl-understand-score').value) || 0 },
                            apply: { count: parseInt(unitEl.querySelector('.tl-apply-count').value) || 0, score: parseFloat(unitEl.querySelector('.tl-apply-score').value) || 0 }
                        };

                        units.push({
                            name: unitName,
                            tn: tnData,
                            tl: tlData
                        });
                    });

                    topics.push({
                        name: topicName,
                        score: topicScore,
                        units: units
                    });
                });

                // T·∫°o prompt
                const promptText = createPrompt(topics, subject, grade, duration);

                // Hi·ªÉn th·ªã prompt
                promptOutput.textContent = promptText;

                // Chuy·ªÉn sang tab prompt
                document.querySelector('[data-tab="prompt"]').click();
            }

            // T·∫°o prompt
            function createPrompt(topics, subject, grade, duration) {
                let prompt = `H√£y t·∫°o ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra theo ƒë√∫ng y√™u c·∫ßu trong prompt d∆∞·ªõi ƒë√¢y. T√¥i ƒë√£ ƒë√≠nh k√®m file C√¥ng vƒÉn 7991/BGDƒêT-GDTrH ƒë·ªÉ b·∫°n tham kh·∫£o. B·∫°n l√† gi√°o vi√™n thi·∫øt k·∫ø ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra ƒë·ªãnh k·ª≥ m√¥n ${subject} l·ªõp ${grade} theo C√¥ng vƒÉn 7991/BGDƒêT-GDTrH c·ªßa B·ªô Gi√°o d·ª•c v√† ƒê√†o t·∫°o Vi·ªát Nam, ban h√†nh ng√†y 17/12/2024. Ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra ph·∫£i b√°m s√°t ch∆∞∆°ng tr√¨nh Gi√°o d·ª•c ph·ªï th√¥ng 2018, ph√π h·ª£p v·ªõi m√¥n h·ªçc v√† l·ªõp h·ªçc ƒë∆∞·ª£c ch·ªçn, ƒë·∫£m b·∫£o c√°c y√™u c·∫ßu v·ªÅ chuy√™n m√¥n v√† k·ªπ thu·∫≠t, ƒë·ªìng th·ªùi gi√∫p ƒë√°nh gi√° nƒÉng l·ª±c v√† ph·∫©m ch·∫•t c·ªßa h·ªçc sinh.

N·ªôi dung t·∫°o ma tr·∫≠n tuy·ªát ƒë·ªëi ch·ªâ ƒë∆∞·ª£c l·∫•y th√¥ng tin t·ª´ c√°c file ƒë√≠nh k√®m S√°ch gi√°o khoa v√† m·∫´u c·ªßa ma tr·∫≠n ƒë√£ ƒë∆∞·ª£c ƒë√≠nh k√®m c·ªßa C√¥ng vƒÉn 7991, bao g·ªìm:
- C√°c ch·ªß ƒë·ªÅ/ch∆∞∆°ng trong s√°ch gi√°o khoa.
- M·ª©c ƒë·ªô ƒë√°nh gi√° (nh·∫≠n bi·∫øt, th√¥ng hi·ªÉu, v·∫≠n d·ª•ng).
- S·ªë c√¢u h·ªèi v√† ƒëi·ªÉm s·ªë cho t·ª´ng ph·∫ßn Tr·∫Øc nghi·ªám v√† T·ª± lu·∫≠n.
- T·ª∑ l·ªá % ƒëi·ªÉm s·ªë cho t·ª´ng m·ª©c ƒë·ªô.

H√£y thi·∫øt k·∫ø "Ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra ƒë·ªãnh k√¨" cho h·ªçc sinh l√†m b√†i ki·ªÉm tra v·ªõi th·ªùi gian ${duration} ph√∫t. D·ª±a tr√™n c√°c file s√°ch gi√°o khoa ƒë√≠nh k√®m v√† file m·∫´u: "Ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra ƒë·ªãnh k√¨". Tuy·ªát ƒë·ªëi ƒë·∫£m b·∫£o ƒë√∫ng c√°c th√¥ng s·ªë trong ma tr·∫≠n.

---
B·∫£n ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra g·ªìm 6 c·ªôt trong ƒë√≥:
1. C·ªôt ƒë·∫ßu ti√™n l√† "s·ªë th·ª© t·ª±".
2. C·ªôt th·ª© 2 l√† "t√™n ch·ªß ƒë·ªÅ ho·∫∑c t√™n ch∆∞∆°ng".
3. C·ªôt th·ª© 3 l√† "n·ªôi dung ho·∫∑c ƒë∆°n v·ªã ki·∫øn th·ª©c".
4. C·ªôt l·ªõn th·ª© 4 l√† c·ªôt "M·ª©c ƒë·ªô ƒë√°nh gi√°" g·ªìm 2 c·ªôt TNKQ v√† T·ª± lu·∫≠n.
Trong c·ªôt TNKQ chia l√†m 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng 3 n·ªôi dung: "Nhi·ªÅu l·ª±a ch·ªçn", "ƒê√∫ng ‚Äì sai", "Tr·∫£ l·ªùi ng·∫Øn".
Trong c·ªôt "Nhi·ªÅu l·ª±a ch·ªçn" chia l√†m 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng 3 n·ªôi dung: "Bi·∫øt", "Hi·ªÉu", "V·∫≠n d·ª•ng".
Trong c·ªôt "ƒê√∫ng ‚Äì sai" chia l√†m 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng 3 n·ªôi dung: "Bi·∫øt", "Hi·ªÉu", "V·∫≠n d·ª•ng".
Trong c·ªôt "Tr·∫£ l·ªùi ng·∫Øn" chia l√†m 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng 3 n·ªôi dung: "Bi·∫øt", "Hi·ªÉu", "V·∫≠n d·ª•ng".
Trong c·ªôt "T·ª± lu·∫≠n" chia l√†m 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng 3 n·ªôi dung: "Bi·∫øt", "Hi·ªÉu", "V·∫≠n d·ª•ng".
5. C·ªôt th·ª© 5 l√† "T·ªïng" g·ªìm 3 c·ªôt nh·ªè t∆∞∆°ng ·ª©ng: "Bi·∫øt", "Hi·ªÉu", "V·∫≠n d·ª•ng".
6. C·ªôt th·ª© 6 l√† "T·ªâ l·ªá %".
---
B·∫£n ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra g·ªìm:
1. C√°c d√≤ng t∆∞∆°ng ·ª©ng v·ªõi c√°c ch·ªß ƒë·ªÅ. M·ªói ch·ªß ƒë·ªÅ g·ªìm c√°c d√≤ng t∆∞∆°ng ·ª©ng v·ªõi c√°c ƒë∆°n v·ªã ki·∫øn th·ª©c.
2. Cu·ªëi c√πng th√™m d√≤ng: "T·ªïng s·ªë c√¢u", "T·ªïng s·ªë ƒëi·ªÉm", "ƒê√∫ng t·ªâ l·ªá %".
3. B·∫£n ma tr·∫≠n c√≥ C∆° c·∫•u ƒëi·ªÉm theo c√°c ph·∫ßn nh∆∞ sau: T·ªïng thang ƒëi·ªÉm c·ªßa b√†i ki·ªÉm tra l√† 10 ƒëi·ªÉm g·ªìm 2 ph·∫ßn ch√≠nh:
1Ô∏è‚É£ Ph·∫ßn tr·∫Øc nghi·ªám kh√°ch quan (TN) chi·∫øm 70% t·ªïng ƒëi·ªÉm (7/10 ƒëi·ªÉm), c√≥ ƒë·ªß 3 d·∫°ng c√¢u h·ªèi:
- C√¢u h·ªèi "nhi·ªÅu l·ª±a ch·ªçn": 3 ƒëi·ªÉm.
- C√¢u h·ªèi "ƒë√∫ng ‚Äì sai": 2 ƒëi·ªÉm.
- C√¢u h·ªèi "tr·∫£ l·ªùi ng·∫Øn": 2 ƒëi·ªÉm.
(T·ªïng 7 ƒëi·ªÉm)
2Ô∏è‚É£ Ph·∫ßn t·ª± lu·∫≠n (TL): Chi·∫øm 30% t·ªïng ƒëi·ªÉm (3/10 ƒëi·ªÉm).
---
B·∫£n ma tr·∫≠n g·ªìm 4 ch·ªß ƒë·ªÅ v√† c√≥ c∆° c·∫•u ƒëi·ªÉm theo c√°c ch·ªß ƒë·ªÅ nh∆∞ sau:
`;

                topics.forEach((topic, index) => {
                    prompt += `- Ch·ªß ƒë·ªÅ ${index + 1}: ${topic.name} c√≥ t·ªïng ƒëi·ªÉm l√† ${topic.score} ƒëi·ªÉm.\n`;
                });

                prompt += `---
M·ª©c ƒë·ªô nh·∫≠n th·ª©c:
- 40% c√¢u h·ªèi ·ªü m·ª©c ƒë·ªô Nh·∫≠n bi·∫øt.
- 30% c√¢u h·ªèi ·ªü m·ª©c ƒë·ªô Th√¥ng hi·ªÉu.
- 30% c√¢u h·ªèi ·ªü m·ª©c ƒë·ªô V·∫≠n d·ª•ng.
---
Y√äU C·∫¶U K·∫æT QU·∫¢
ƒê·ªãnh d·∫°ng k·∫øt qu·∫£ theo b·∫£ng t√≠nh Excel nh∆∞ m·∫´u "Ma tr·∫≠n ƒë·ªÅ ki·ªÉm tra ƒë·ªãnh k√¨" ƒë√≠nh k√®m. C·∫•u tr√∫c b·∫£ng ph·∫£i gi·ªëng y file m·∫´u. Tuy·ªát ƒë·ªëi kh√¥ng ƒë∆∞·ª£c thay ƒë·ªïi. ƒê√°p ·ª©ng ƒë·∫ßy ƒë·ªß y√™u c·∫ßu c·ªßa C√¥ng vƒÉn 7991, gi√∫p gi√°o vi√™n ƒë√°nh gi√° ch√≠nh x√°c nƒÉng l·ª±c v√† ph·∫©m ch·∫•t c·ªßa h·ªçc sinh.

D·ªÆ LI·ªÜU C·ª§ TH·ªÇ CHO MA TR·∫¨N:
`;

                topics.forEach((topic, topicIndex) => {
                    prompt += `\nCh·ªß ƒë·ªÅ ${topicIndex + 1}: ${topic.name}\n`;
                    topic.units.forEach((unit, unitIndex) => {
                        prompt += `- ƒê∆°n v·ªã ki·∫øn th·ª©c: ${unit.name}\n`;
                        prompt += `  * Tr·∫Øc nghi·ªám:\n`;
                        prompt += `    - Nhi·ªÅu l·ª±a ch·ªçn: Bi·∫øt ${unit.tn.multiple.know.count} c√¢u (${unit.tn.multiple.know.score} ƒëi·ªÉm), Hi·ªÉu ${unit.tn.multiple.understand.count} c√¢u (${unit.tn.multiple.understand.score} ƒëi·ªÉm), V·∫≠n d·ª•ng ${unit.tn.multiple.apply.count} c√¢u (${unit.tn.multiple.apply.score} ƒëi·ªÉm)\n`;
                        prompt += `    - ƒê√∫ng - Sai: Bi·∫øt ${unit.tn.truefalse.know.count} c√¢u (${unit.tn.truefalse.know.score} ƒëi·ªÉm), Hi·ªÉu ${unit.tn.truefalse.understand.count} c√¢u (${unit.tn.truefalse.understand.score} ƒëi·ªÉm), V·∫≠n d·ª•ng ${unit.tn.truefalse.apply.count} c√¢u (${unit.tn.truefalse.apply.score} ƒëi·ªÉm)\n`;
                        prompt += `    - Tr·∫£ l·ªùi ng·∫Øn: Bi·∫øt ${unit.tn.short.know.count} c√¢u (${unit.tn.short.know.score} ƒëi·ªÉm), Hi·ªÉu ${unit.tn.short.understand.count} c√¢u (${unit.tn.short.understand.score} ƒëi·ªÉm), V·∫≠n d·ª•ng ${unit.tn.short.apply.count} c√¢u (${unit.tn.short.apply.score} ƒëi·ªÉm)\n`;
                        prompt += `  * T·ª± lu·∫≠n:\n`;
                        prompt += `    - Bi·∫øt ${unit.tl.know.count} c√¢u (${unit.tl.know.score} ƒëi·ªÉm), Hi·ªÉu ${unit.tl.understand.count} c√¢u (${unit.tl.understand.score} ƒëi·ªÉm), V·∫≠n d·ª•ng ${unit.tl.apply.count} c√¢u (${unit.tl.apply.score} ƒëi·ªÉm)\n`;
                    });
                });

                return prompt;
            }

            // Sao ch√©p prompt
            function copyPrompt() {
                const text = promptOutput.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    const btn = copyPromptButton;
                    const originalText = btn.textContent;
                    btn.textContent = 'ƒê√£ sao ch√©p!';
                    setTimeout(() => {
                        btn.textContent = originalText;
                    }, 2000);
                });
            }

            // G·∫Øn s·ª± ki·ªán
            addTopicButton.addEventListener('click', addTopic);
            generatePromptButton.addEventListener('click', generatePrompt);
            copyPromptButton.addEventListener('click', copyPrompt);

            // Th√™m 4 ch·ªß ƒë·ªÅ m·∫∑c ƒë·ªãnh
            for (let i = 0; i < 4; i++) {
                addTopic();
            }
        });
    </script>
</body>
</html>
